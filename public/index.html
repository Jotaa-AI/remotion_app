<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Smart Overlay Studio — Modern</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Manrope:wght@500;600;700;800&family=Sora:wght@500;600;700;800&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        --bg-a: #0b1020;
        --bg-b: #070b16;
        --surface: rgba(15, 23, 42, 0.86);
        --surface-strong: rgba(17, 25, 40, 0.95);
        --line: rgba(148, 163, 184, 0.25);
        --line-strong: rgba(96, 165, 250, 0.55);
        --text: #e5edf8;
        --muted: #9fb0c8;
        --brand: #5b7cff;
        --brand-2: #22d3ee;
        --brand-ink: #c7d2fe;
        --success: #34d399;
        --warning: #f59e0b;
        --danger: #fb7185;
        --radius-xl: 24px;
        --radius-lg: 18px;
        --radius-md: 14px;
        --shadow-soft: 0 20px 55px rgba(0, 0, 0, 0.45);
        --shadow-card: 0 10px 30px rgba(0, 0, 0, 0.35);
      }

      * {
        box-sizing: border-box;
      }

      html,
      body {
        margin: 0;
        min-height: 100%;
      }

      body {
        font-family: 'Manrope', 'Avenir Next', sans-serif;
        color: var(--text);
        background:
          radial-gradient(circle at 8% 5%, rgba(91, 124, 255, 0.25) 0%, transparent 36%),
          radial-gradient(circle at 90% 12%, rgba(34, 211, 238, 0.16) 0%, transparent 34%),
          linear-gradient(180deg, var(--bg-b) 0%, var(--bg-a) 100%);
      }

      .page {
        width: min(1300px, 100%);
        margin: 0 auto;
        padding: 22px;
      }

      .topbar {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 14px;
        border-radius: var(--radius-lg);
        border: 1px solid var(--line);
        background: linear-gradient(165deg, rgba(15, 23, 42, 0.92) 0%, rgba(30, 41, 59, 0.86) 100%);
        backdrop-filter: blur(8px);
        box-shadow: var(--shadow-soft);
        padding: 10px 16px;
      }

      .brand {
        display: flex;
        align-items: center;
        gap: 12px;
      }

      .brand-badge {
        width: 36px;
        height: 36px;
        border-radius: 11px;
        display: grid;
        place-items: center;
        color: #fff;
        font-weight: 800;
        font-family: 'Sora', sans-serif;
        background: linear-gradient(130deg, var(--brand), var(--brand-2));
      }

      .brand-name {
        font-family: 'Sora', sans-serif;
        font-size: 15px;
        font-weight: 700;
        letter-spacing: -0.2px;
      }

      .brand-sub {
        font-size: 12px;
        color: var(--muted);
      }

      .topbar-status {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        border: 1px solid var(--line);
        border-radius: 999px;
        padding: 7px 12px;
        background: rgba(15, 23, 42, 0.82);
        color: #bfdbfe;
        font-size: 12px;
        font-weight: 700;
      }

      .topbar-status::before {
        content: '';
        width: 8px;
        height: 8px;
        border-radius: 50%;
        background: #27c67a;
        box-shadow: 0 0 0 5px rgba(39, 198, 122, 0.16);
      }

      .hero-title {
        margin: 18px 0 0;
        font-family: 'Sora', sans-serif;
        font-size: clamp(32px, 5vw, 50px);
        font-weight: 800;
        line-height: 0.98;
        letter-spacing: -0.7px;
      }

      .hero-sub {
        margin: 12px 0 0;
        max-width: 940px;
        font-size: 15px;
        line-height: 1.5;
        color: #2e3f63;
      }

      .live-step {
        margin-top: 14px;
        border-radius: var(--radius-xl);
        border: 1px solid #c9daff;
        background: linear-gradient(145deg, #ffffff 0%, #f2f7ff 100%);
        box-shadow: var(--shadow-soft);
        padding: 16px;
        display: grid;
        gap: 10px;
      }

      .live-step-top {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 12px;
      }

      .live-step-kicker {
        margin: 0;
        font-size: 12px;
        text-transform: uppercase;
        letter-spacing: 0.8px;
        color: var(--brand-ink);
        font-weight: 800;
      }

      .live-step-chip {
        border: 1px solid var(--line-strong);
        border-radius: 999px;
        padding: 6px 12px;
        font-size: 11px;
        font-weight: 800;
        color: #143d9a;
        text-transform: uppercase;
      }

      .live-step-chip.pending {
        background: #eef2fa;
        color: #4d6187;
        border-color: #d7e0f3;
      }

      .live-step-chip.active {
        background: #e4edff;
        color: #1b54db;
        border-color: #a8bfff;
      }

      .live-step-chip.waiting {
        background: #fff1d7;
        color: #996000;
        border-color: #f0c06f;
      }

      .live-step-chip.completed {
        background: #ddf7ea;
        color: #147649;
        border-color: #90d7b1;
      }

      .live-step-chip.failed {
        background: #ffe7e7;
        color: #a93333;
        border-color: #f0aeae;
      }

      .live-step-chip.omitted {
        background: #edf2fb;
        color: #5f708f;
        border-color: #d4dfef;
      }

      .live-step-title {
        margin: 0;
        font-size: clamp(24px, 3vw, 34px);
        line-height: 1;
        letter-spacing: -0.4px;
        font-family: 'Sora', sans-serif;
      }

      .live-step-action {
        margin: 0;
        color: #324364;
        font-size: 14px;
      }

      .live-step-progress {
        height: 11px;
        border-radius: 999px;
        border: 1px solid var(--line-strong);
        background: #e4edff;
        overflow: hidden;
      }

      .live-step-progress > div {
        width: 0%;
        height: 100%;
        border-radius: inherit;
        background: linear-gradient(90deg, var(--brand-2) 0%, var(--brand) 65%, #174dbf 100%);
        transition: width 0.45s ease;
      }

      .process-map-shell {
        margin-top: 14px;
        border: 1px solid var(--line);
        border-radius: var(--radius-xl);
        background: var(--surface);
        backdrop-filter: blur(5px);
        box-shadow: var(--shadow-soft);
        overflow: hidden;
      }

      .process-map-head {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 12px;
        padding: 14px 16px;
        border-bottom: 1px solid var(--line);
      }

      .process-map-head h2 {
        margin: 0;
        font-family: 'Sora', sans-serif;
        font-size: 18px;
      }

      .process-map-head p {
        margin: 5px 0 0;
        font-size: 12px;
        color: var(--muted);
      }

      .global-progress-pill {
        border: 1px solid var(--line-strong);
        border-radius: 999px;
        background: rgba(15, 23, 42, 0.86);
        color: #bfdbfe;
        font-size: 12px;
        font-weight: 800;
        padding: 7px 13px;
      }

      .process-map-grid {
        display: grid;
        grid-template-columns: minmax(620px, 1.4fr) minmax(320px, 0.6fr);
        gap: 12px;
        padding: 12px;
      }

      .process-map-canvas,
      .process-map-detail {
        border-radius: var(--radius-lg);
        border: 1px solid var(--line);
        background: var(--surface-strong);
        box-shadow: var(--shadow-card);
      }

      .process-map-canvas {
        padding: 14px;
      }

      .pipeline-svg {
        width: 100%;
        height: 290px;
        display: block;
      }

      .thread-base {
        fill: none;
        stroke: #d8e4ff;
        stroke-width: 7;
        stroke-linecap: round;
      }

      .thread-progress {
        fill: none;
        stroke: url(#threadProgressGradient);
        stroke-width: 7;
        stroke-linecap: round;
        transition: stroke-dashoffset 0.45s ease;
      }

      .thread-pulse {
        filter: drop-shadow(0 0 10px rgba(31, 94, 255, 0.45));
        animation: pulseBeat 1.3s ease-in-out infinite;
      }

      @keyframes pulseBeat {
        0%,
        100% {
          transform: scale(1);
          opacity: 0.95;
        }
        50% {
          transform: scale(1.24);
          opacity: 0.72;
        }
      }

      .thread-node {
        cursor: pointer;
      }

      .thread-node-circle {
        stroke-width: 2.5;
        transition: fill 0.2s ease, stroke 0.2s ease, transform 0.2s ease;
      }

      .thread-node-label {
        font-size: 11px;
        font-weight: 700;
        text-anchor: middle;
        fill: #324467;
        pointer-events: none;
      }

      .thread-node-number {
        font-size: 10px;
        font-weight: 800;
        text-anchor: middle;
        dominant-baseline: middle;
        pointer-events: none;
      }

      .thread-node.pending .thread-node-circle {
        fill: #f8fbff;
        stroke: #cddcff;
      }

      .thread-node.pending .thread-node-number {
        fill: #6b7a95;
      }

      .thread-node.active .thread-node-circle {
        fill: #deebff;
        stroke: #1f5eff;
      }

      .thread-node.active .thread-node-number {
        fill: #1f5eff;
      }

      .thread-node.waiting .thread-node-circle {
        fill: #fff0d4;
        stroke: #b77208;
      }

      .thread-node.waiting .thread-node-number {
        fill: #9b5f00;
      }

      .thread-node.completed .thread-node-circle {
        fill: #d8f7e8;
        stroke: #14804f;
      }

      .thread-node.completed .thread-node-number {
        fill: #14804f;
      }

      .thread-node.failed .thread-node-circle {
        fill: #ffe3e3;
        stroke: #c03e3e;
      }

      .thread-node.failed .thread-node-number {
        fill: #a12e2e;
      }

      .thread-node.omitted .thread-node-circle {
        fill: #f2f6ff;
        stroke: #93a4c8;
        stroke-dasharray: 4 3;
      }

      .thread-node.omitted .thread-node-number {
        fill: #5f708f;
      }

      .thread-node.selected .thread-node-circle {
        stroke-width: 3.5;
        transform: scale(1.08);
      }

      .process-map-mobile {
        display: none;
      }

      .mobile-timeline {
        position: relative;
        padding-left: 40px;
      }

      .mobile-timeline-rail {
        position: absolute;
        left: 16px;
        top: 8px;
        bottom: 8px;
        width: 4px;
        border-radius: 999px;
        background: #d8e4ff;
      }

      .mobile-timeline-fill {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 0%;
        border-radius: inherit;
        background: linear-gradient(180deg, var(--brand-2) 0%, var(--brand) 100%);
        transition: height 0.45s ease;
      }

      .mobile-timeline-pulse {
        position: absolute;
        left: 50%;
        top: 0%;
        transform: translate(-50%, -50%);
        width: 13px;
        height: 13px;
        border-radius: 50%;
        background: var(--brand);
        box-shadow: 0 0 0 5px rgba(31, 94, 255, 0.15);
        transition: top 0.45s ease;
      }

      .mobile-phase-list {
        margin: 0;
        padding: 0;
        list-style: none;
        display: grid;
        gap: 9px;
      }

      .mobile-phase-item {
        border: 1px solid var(--line);
        border-radius: 12px;
        padding: 10px;
        background: #fff;
      }

      .mobile-phase-item-title {
        font-size: 13px;
        font-weight: 700;
      }

      .mobile-phase-item-state {
        margin-top: 4px;
        font-size: 11px;
        color: var(--muted);
      }

      .mobile-phase-item.active {
        border-color: #87a8ff;
        background: #f1f6ff;
      }

      .mobile-phase-item.waiting {
        border-color: #f2be6e;
      }

      .mobile-phase-item.completed {
        border-color: #85d7ac;
      }

      .mobile-phase-item.failed {
        border-color: #eba0a0;
      }

      .mobile-phase-item.omitted {
        border-style: dashed;
      }

      .process-map-detail {
        padding: 14px;
        display: grid;
        gap: 10px;
        align-content: start;
      }

      .phase-chip {
        display: inline-flex;
        align-items: center;
        width: fit-content;
        border-radius: 999px;
        padding: 6px 11px;
        font-size: 11px;
        font-weight: 800;
        text-transform: uppercase;
      }

      .phase-chip.pending {
        background: #e9eef7;
        color: #4a5f87;
      }

      .phase-chip.active {
        background: #e2edff;
        color: #1b54db;
      }

      .phase-chip.waiting {
        background: #fff0d3;
        color: #9b5f00;
      }

      .phase-chip.completed {
        background: #ddf7ea;
        color: #147649;
      }

      .phase-chip.failed {
        background: #ffe6e6;
        color: #af3535;
      }

      .phase-chip.omitted {
        background: #eef2f9;
        color: #5f708f;
      }

      .phase-step {
        font-size: 12px;
        font-weight: 700;
        color: var(--muted);
      }

      .phase-title {
        margin: 0;
        font-family: 'Sora', sans-serif;
        font-size: 26px;
        letter-spacing: -0.3px;
        line-height: 0.98;
      }

      .phase-summary {
        margin: 0;
        color: #2f4165;
        font-size: 13px;
        line-height: 1.45;
      }

      .phase-action {
        border-radius: 12px;
        border: 1px solid var(--line);
        background: #f4f8ff;
        color: #23365a;
        padding: 10px;
        font-size: 12px;
      }

      .detail-grid {
        display: grid;
        gap: 8px;
      }

      .detail-item {
        border: 1px solid var(--line);
        border-radius: 12px;
        padding: 9px;
      }

      .detail-label {
        font-size: 10px;
        text-transform: uppercase;
        letter-spacing: 0.45px;
        color: #6e7e9b;
        font-weight: 800;
      }

      .detail-value {
        margin-top: 2px;
        font-size: 12px;
      }

      .mini-progress {
        height: 9px;
        border-radius: 999px;
        border: 1px solid var(--line-strong);
        background: #e4edff;
        overflow: hidden;
      }

      .mini-progress-bar {
        width: 0;
        height: 100%;
        border-radius: inherit;
        background: linear-gradient(90deg, var(--brand) 0%, var(--brand-2) 100%);
        transition: width 0.4s ease;
      }

      .mini-progress-text {
        margin-top: 5px;
        font-size: 11px;
        color: #4f5f7c;
      }

      .inline-note {
        margin: 0;
        font-size: 12px;
      }

      .inline-note.warning {
        color: var(--warning);
      }

      .inline-note.error {
        color: var(--danger);
      }

      .workspace {
        margin-top: 14px;
        display: grid;
        grid-template-columns: minmax(350px, 0.8fr) minmax(530px, 1.2fr);
        gap: 14px;
      }

      .stack {
        display: grid;
        gap: 12px;
      }

      .panel {
        border: 1px solid var(--line);
        border-radius: var(--radius-lg);
        background: var(--surface);
        backdrop-filter: blur(5px);
        box-shadow: var(--shadow-card);
        padding: 15px;
      }

      .panel-title {
        margin: 0;
        font-family: 'Sora', sans-serif;
        font-size: 17px;
      }

      .panel-sub {
        margin: 7px 0 0;
        color: var(--muted);
        font-size: 12px;
      }

      label {
        display: block;
        margin: 11px 0 6px;
        font-size: 12px;
        font-weight: 700;
        color: #c7d2fe;
      }

      input[type='file'],
      input[type='url'],
      input[type='text'],
      input[type='number'],
      select,
      textarea,
      button {
        width: 100%;
        font-family: inherit;
      }

      input[type='file'],
      input[type='url'],
      input[type='text'],
      input[type='number'],
      select,
      textarea {
        border: 1px solid var(--line);
        border-radius: 12px;
        background: rgba(15, 23, 42, 0.88);
        color: var(--text);
        font-size: 14px;
        padding: 10px 11px;
      }

      textarea {
        min-height: 106px;
        resize: vertical;
      }

      button {
        border: 0;
        border-radius: 12px;
        padding: 11px 12px;
        color: #fff;
        font-size: 14px;
        font-weight: 800;
        cursor: pointer;
        background: linear-gradient(130deg, #1f5eff 0%, #3f78ff 50%, #13b5ff 100%);
      }

      button.secondary {
        background: linear-gradient(135deg, #122b64 0%, #174dbf 100%);
      }

      button.ghost {
        border: 1px solid var(--line-strong);
        background: rgba(15, 23, 42, 0.84);
        color: #dbeafe;
      }

      button:disabled {
        opacity: 0.72;
        cursor: progress;
      }

      .caption {
        margin-top: 8px;
        color: var(--muted);
        font-size: 12px;
      }

      .codebox {
        margin: 0;
        border-radius: 12px;
        border: 1px solid #1f2f56;
        background: #0f1d3f;
        color: #e6eeff;
        padding: 12px;
        font-size: 12px;
        line-height: 1.45;
        white-space: pre-wrap;
        word-break: break-word;
      }

      .download-link {
        color: #1a52de;
        font-weight: 800;
        font-size: 13px;
      }

      video {
        width: 100%;
        margin-top: 8px;
        border-radius: 12px;
        border: 1px solid var(--line);
        background: #000;
      }

      .insights-list {
        display: grid;
        gap: 10px;
      }

      .insight-card {
        border: 1px solid var(--line);
        border-radius: 14px;
        padding: 11px;
        background: linear-gradient(155deg, #ffffff 0%, #f3f7ff 100%);
      }

      .insight-time {
        display: inline-flex;
        align-items: center;
        border-radius: 999px;
        border: 1px solid #9fbbff;
        background: #fff;
        color: #1e50c2;
        padding: 3px 9px;
        font-size: 11px;
        font-weight: 800;
      }

      .insight-topic {
        margin: 7px 0 0;
        font-size: 14px;
        font-weight: 800;
      }

      .insight-text {
        margin: 6px 0 0;
        font-size: 12px;
        line-height: 1.45;
        color: #314364;
      }

      .insight-impact,
      .insight-anim {
        margin-top: 6px;
        border-left: 3px solid #6ba5ff;
        padding-left: 8px;
        font-size: 12px;
        color: #1f2f50;
      }

      .visual-editor {
        margin-top: 10px;
        display: grid;
        gap: 10px;
      }

      .overlay-card {
        border: 1px solid var(--line);
        border-radius: 14px;
        padding: 11px;
        background: linear-gradient(150deg, #ffffff 0%, #f5f8ff 100%);
      }

      .overlay-head {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 10px;
        margin-bottom: 8px;
      }

      .overlay-head-left {
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .overlay-toggle {
        width: auto;
      }

      .overlay-title {
        font-size: 13px;
        font-weight: 800;
      }

      .overlay-time {
        font-size: 11px;
        color: var(--muted);
      }

      .overlay-context {
        margin: 0 0 8px;
        border-left: 3px solid #8fb2ff;
        padding-left: 8px;
        font-size: 11px;
        line-height: 1.35;
        color: #354669;
      }

      .overlay-grid {
        display: grid;
        grid-template-columns: repeat(2, minmax(0, 1fr));
        gap: 8px;
      }

      .overlay-field label {
        margin: 0 0 4px;
        font-size: 11px;
        color: var(--muted);
      }

      .overlay-field input[type='color'] {
        border: 1px solid #b8cbf8;
        border-radius: 10px;
        padding: 3px;
        height: 38px;
        background: #fff;
      }

      .effects-wrap {
        margin-top: 8px;
        border: 1px dashed #b8cbf8;
        border-radius: 11px;
        padding: 8px;
        background: #fff;
      }

      .effects-list {
        display: grid;
        grid-template-columns: repeat(2, minmax(0, 1fr));
        gap: 6px;
      }

      .effect-chip {
        display: flex;
        align-items: center;
        gap: 6px;
        font-size: 11px;
        color: #314466;
      }

      .effect-chip input {
        width: auto;
      }

      .inline-actions {
        display: flex;
        gap: 8px;
      }

      .chat-log {
        margin-top: 10px;
        max-height: 220px;
        overflow-y: auto;
        display: grid;
        gap: 7px;
        border: 1px solid var(--line);
        border-radius: 12px;
        background: #f4f8ff;
        padding: 8px;
      }

      .chat-item {
        border: 1px solid var(--line);
        border-radius: 10px;
        padding: 8px;
        font-size: 12px;
        line-height: 1.36;
      }

      .chat-item.user {
        background: #e7eeff;
      }

      .chat-item.assistant {
        background: #ecf7ff;
      }

      .actions-row {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 8px;
      }

      .section-anchor {
        scroll-margin-top: 24px;
      }

      @media (max-width: 1140px) {
        .process-map-grid {
          grid-template-columns: 1fr;
        }

        .workspace {
          grid-template-columns: 1fr;
        }
      }

      @media (max-width: 760px) {
        .page {
          padding: 12px;
        }

        .hero-title {
          font-size: 32px;
        }

        .pipeline-svg {
          display: none;
        }

        .process-map-mobile {
          display: block;
        }

        .overlay-grid,
        .effects-list,
        .actions-row {
          grid-template-columns: 1fr;
        }

        .topbar {
          flex-direction: column;
          align-items: flex-start;
        }

        .live-step-top {
          flex-direction: column;
          align-items: flex-start;
        }
      }
    </style>
  </head>
  <body>
    <main class="page">
      <header class="topbar">
        <div class="brand">
          <div class="brand-badge">S</div>
          <div>
            <div class="brand-name">Smart Overlay Studio</div>
            <div class="brand-sub">Pipeline Inteligente de Animaciones</div>
          </div>
        </div>
        <div class="topbar-status">Sistema operativo</div>
      </header>

      <h1 class="hero-title">Producción visual guiada, paso a paso</h1>
      <p class="hero-sub">
        Sigue en tiempo real qué está ejecutando la IA, revisa propuestas de animación y lanza el render final con una interfaz clara,
        moderna y preparada para iterar rápido.
      </p>

      <section class="live-step" aria-live="polite">
        <div class="live-step-top">
          <p class="live-step-kicker">Paso en ejecución</p>
          <div id="live-step-chip" class="live-step-chip">Pendiente</div>
        </div>
        <h2 id="live-step-title" class="live-step-title">Esperando inicio del pipeline</h2>
        <p id="live-step-action" class="live-step-action">Sube un video o pega un enlace para comenzar el análisis automático.</p>
        <div class="live-step-progress">
          <div id="live-step-progress"></div>
        </div>
      </section>

      <section class="panel" id="status-window" style="margin-top: 14px">
        <div class="process-map-head" style="padding: 0; border: 0; margin-bottom: 10px">
          <div>
            <h2 style="margin: 0; font-size: 18px">Estado actual</h2>
            <p style="margin: 6px 0 0; color: var(--muted); font-size: 12px">Vista en tiempo real de lo que está ejecutando la IA.</p>
          </div>
          <div id="pipeline-global-progress" class="global-progress-pill">0% completado</div>
        </div>

        <article class="process-map-detail" style="border: 0; padding: 0; background: transparent">
          <div id="pipeline-phase-chip" class="phase-chip pending">Pendiente</div>
          <div id="pipeline-phase-step" class="phase-step">Paso 1/11</div>
          <h3 id="pipeline-phase-title" class="phase-title">Esperando inicio</h3>
          <p id="pipeline-phase-summary" class="phase-summary">Sube un video para comenzar el análisis.</p>
          <div id="pipeline-phase-action" class="phase-action">Esperando inicio del proceso.</div>

          <div class="detail-grid">
            <div class="detail-item">
              <div class="detail-label">Entrada esperada</div>
              <div id="pipeline-input" class="detail-value">Video local.</div>
            </div>
            <div class="detail-item">
              <div class="detail-label">Salida esperada</div>
              <div id="pipeline-output" class="detail-value">Resultado de la fase actual.</div>
            </div>
          </div>

          <div>
            <div class="mini-progress">
              <div id="pipeline-local-progress-bar" class="mini-progress-bar"></div>
            </div>
            <div id="pipeline-local-progress-text" class="mini-progress-text">Progreso de fase: 0%</div>
          </div>

          <p id="pipeline-warning" class="inline-note warning"></p>
          <p id="pipeline-error" class="inline-note error"></p>
        </article>

        <div style="display:none" aria-hidden="true">
          <svg id="pipeline-svg"><path id="pipeline-path-base"></path><path id="pipeline-path-progress"></path><circle id="pipeline-pulse"></circle><g id="pipeline-nodes"></g></svg>
          <ul id="pipeline-mobile-list"></ul>
          <div id="pipeline-mobile-fill"></div>
          <div id="pipeline-mobile-pulse"></div>
        </div>
      </section>

      <section class="workspace">
        <div class="stack">
          <form id="job-form" class="panel section-anchor" data-anchor="section-input">
            <h2 class="panel-title">1. Entrada del video</h2>
            <p class="panel-sub">Sube un archivo local desde tu ordenador para iniciar el pipeline.</p>

            <label for="video">Video local</label>
            <input id="video" name="video" type="file" accept="video/*" />

            <label for="youtubeUrl">Enlace de YouTube (desactivado temporalmente)</label>
            <input id="youtubeUrl" name="youtubeUrl" type="url" placeholder="Temporalmente desactivado en nube" autocomplete="off" disabled />

            <button id="submit-btn" type="submit" style="margin-top: 12px">Analizar y proponer animaciones</button>
            <div class="caption">Modo estable: subida de archivo local.</div>
          </form>

          <section id="transcript-panel" class="panel section-anchor" data-anchor="section-transcript" hidden>
            <h2 class="panel-title">2. Resumen de transcripción</h2>
            <pre id="transcript-preview" class="codebox"></pre>
          </section>

          <section id="result-panel" class="panel section-anchor" data-anchor="section-result" hidden>
            <h2 class="panel-title">Resultado final</h2>
            <p class="panel-sub">Cuando el render termine, podrás descargar y previsualizar el video.</p>
            <a id="download-link" class="download-link" target="_blank" rel="noopener" hidden>Descargar video final</a>
            <video id="result-video" controls hidden></video>
          </section>
        </div>

        <div class="stack">
          <section id="insights-panel" class="panel section-anchor" data-anchor="section-insights" hidden>
            <h2 class="panel-title">3. Momentos clave analizados</h2>
            <p class="panel-sub">Lista de tramos detectados en la transcripción. Sobre estos momentos se construye la primera propuesta de animación.</p>
            <div id="insights-list" class="insights-list" style="margin-top: 10px"></div>
          </section>

          <section id="ai-panel" class="panel section-anchor" data-anchor="section-review" hidden>
            <h2 class="panel-title">4. Ajustar y generar</h2>
            <p class="panel-sub">Selecciona, edita o añade animaciones antes del render final.</p>

            <div class="inline-actions" style="margin-top: 10px">
              <button id="add-overlay-btn" type="button" class="ghost">Añadir animación</button>
            </div>

            <div id="visual-editor" class="visual-editor"></div>

            <button id="apply-visual-btn" type="button" style="margin-top: 10px">Aplicar cambios visuales</button>
            <div class="caption">Puedes ajustar mensaje, tiempo, estilo, energía y efectos de cada animación.</div>

            <div id="chat-log" class="chat-log"></div>

            <label for="refine-input">Ajuste con IA</label>
            <textarea id="refine-input" placeholder="Ejemplo: acorta el CTA final y añade más energía en la entrada"></textarea>

            <div id="section-render" class="actions-row section-anchor" data-anchor="section-render" style="margin-top: 10px">
              <button id="refine-btn" type="button">Aplicar ajuste con IA</button>
              <button id="render-btn" type="button" class="secondary">Generar video final</button>
            </div>
          </section>
        </div>
      </section>
    </main>

    <script src="/app.js" type="module"></script>
  </body>
</html>
